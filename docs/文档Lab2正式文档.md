# 文档作者
陈展
**主要编写者：**
陈展
**其他编写者：**
张耀宇 贾亦宸 周林辉
# 文档修改历史
| 修改人 | 时间       |
| ------ | ---------- |
| 陈展   | 2025-03-20 |
# 目录

- [文档作者](#文档作者)
- [文档修改历史](#文档修改历史)
- [目录](#目录)
- [1. 引言](#1-引言)
  - [1.1 目的](#11-目的)
  - [1.2 阅读说明](#12-阅读说明)
  - [1.3 参考文献](#13-参考文献)
- [2. 用例图](#2-用例图)
- [3. 用例列表](#3-用例列表)
- [4. 详细用例描述](#4-详细用例描述)
- [商城系统用例规约](#商城系统用例规约)
  - [UC001: 登录](#uc001-登录)
  - [UC002: 注册](#uc002-注册)
  - [UC003: 查看个人信息](#uc003-查看个人信息)
  - [UC004: 修改个人信息](#uc004-修改个人信息)
  - [UC005: 获取所有货物信息](#uc005-获取所有货物信息)
  - [UC006: 获取指定货物信息](#uc006-获取指定货物信息)
  - [UC007: 提交交易结算单](#uc007-提交交易结算单)
  - [UC008: 修改支付单据状态 (支付/取消)](#uc008-修改支付单据状态-支付取消)
  - [UC009: 获取全部广告](#uc009-获取全部广告)
  - [UC010: 创建新的产品](#uc010-创建新的产品)
  - [UC011: 更新产品信息](#uc011-更新产品信息)
  - [UC012: 删除产品](#uc012-删除产品)
  - [UC013: 调整产品库存](#uc013-调整产品库存)


# 1. 引言

## 1.1 目的

本文档描述了番茄读书线上商城系统的用户需求，为后期开发人员对系统的实现和验证工作提供指导。文档面向开发人员、测试人员及最终用户编写，旨在清晰定义顾客和管理员角色的核心业务流程，涵盖用户身份管理、商品信息交互、订单交易处理等关键功能模块。通过规范化的需求描述，确保系统实现符合"为读者提供便捷购书体验、为出版方构建高效销售渠道"的商业目标，并为后续系统验收提供可追溯的基准。

## 1.2 阅读说明

用例描述遵循以下规范：
1. 用例编号采用"UC"前缀+三位数字（如UC001）
2. 参与者分为"顾客"（普通用户）和"管理员"两类角色
3. 流程描述中符号约定：
   - `«»`表示系统界面组件
   - **加粗**表示关键业务规则
   - *斜体*表示外部系统交互
4. 异常流程使用「扩展流程」章节单独说明
5. 优先级分为：高（影响核心业务流程）、中（重要辅助功能）、低（增值功能）

## 1.3 参考文献


……

# 2. 用例图

[在此处插入用例图]

# 3. 用例列表

| 参与者 | 用例名称         |
| ------ | ---------------- |
| 顾客   | 登录             |
| 顾客   | 注册             |
| 顾客   | 查看个人信息     |
| 顾客   | 修改个人信息     |
| 顾客   | 获取所有货物信息 |
| 顾客   | 获取指定货物信息 |
| 顾客   | 提交交易结算单   |
| 顾客   | 修改支付单据状态 |
| 顾客   | 获取全部广告     |
| 管理员 | 创建新的产品     |
| 管理员 | 更新产品信息     |
| 管理员 | 删除产品         |
| 管理员 | 调整产品库存     |

# 4. 详细用例描述

# 商城系统用例规约

## UC001: 登录

| ID             | UC001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 名称           | 登录                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 触发条件       | 顾客打开商城网站/APP，点击«登录»入口                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 前置条件       | 顾客已注册账号                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 后置条件       | 系统验证顾客身份，顾客进入登录状态                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **正常流程**   | 1.  顾客在登录页面输入注册的用户名和密码。 <br> 2.  系统验证用户名和密码是否匹配。 <br> 3.  验证成功，系统记录顾客登录状态，并跳转到商城首页。                                                                                                                                                                                                                                                                                                                                                                                       |
| **特殊需求**   | 安全性：密码需要加密传输和存储。 <br> 性能：登录验证速度要快。                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **扩展流程**   | **2a. 用户名或密码错误:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“用户名或密码错误，请重新输入”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客可以重新输入用户名和密码，或选择«找回密码»。 <br> **2b. 账号被禁用:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“该账号已被禁用，请联系管理员”。 <br> &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客无法登录，需要联系管理员解决。 <br> **2c. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 |

## UC002: 注册

| ID             | UC002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 注册                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 触发条件       | 顾客打开商城网站/APP，点击«注册»入口                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 前置条件       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 后置条件       | 系统创建新用户账号，顾客进入登录状态                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **正常流程**   | 1.  顾客在注册页面输入用户名、密码、手机号等注册信息。 <br> 2.  系统验证**用户名是否已被注册**，**手机号格式是否正确**等。 <br> 3.  验证通过，系统创建新的用户账号，并自动登录到商城首页。                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **特殊需求**   | 安全性：密码需要加密存储。 <br> 用户名唯一性校验。 <br> 手机号格式校验。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **扩展流程**   | **2a. 用户名已被注册:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“用户名已被注册，请更换用户名”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客需要重新输入用户名。 <br> **2b. 手机号格式错误:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“手机号格式错误，请重新输入”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客需要重新输入手机号。 <br> **2c. 密码强度不足:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示密码强度不足，并给出建议。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客需要重新设置密码。 <br> **2d. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 |

## UC003: 查看个人信息

| ID             | UC003                                                                                                                                                                                                                                                                                                                                                            |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 查看个人信息                                                                                                                                                                                                                                                                                                                                                     |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                             |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                       |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                             |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                       |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                             |
| 触发条件       | 顾客登录后，点击«个人中心»或类似入口                                                                                                                                                                                                                                                                                                                             |
| 前置条件       | 顾客已登录                                                                                                                                                                                                                                                                                                                                                       |
| 后置条件       | 系统展示顾客的个人信息页面                                                                                                                                                                                                                                                                                                                                       |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                               |
| **正常流程**   | 1.  顾客点击«个人中心»入口。 <br> 2.  系统从数据库获取当前登录顾客的个人信息。 <br> 3.  系统在页面上展示个人信息，包括用户名、手机号、收货地址等。                                                                                                                                                                                                               |
| **特殊需求**   | 个人信息展示需要脱敏处理，例如手机号部分隐藏。 <br> 性能：用户信息加载速度要快。                                                                                                                                                                                                                                                                                 |
| **扩展流程**   | **3a. 用户信息不存在:** (理论上不应该发生，除非数据异常) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“用户信息获取失败，请稍后重试”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客可以刷新页面重试，或联系客服。 <br> **3b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 |

## UC004: 修改个人信息

| ID             | UC004                                                                                                                                                                                                                                                                                                                                                    |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 修改个人信息                                                                                                                                                                                                                                                                                                                                             |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                     |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                               |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                     |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                               |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                     |
| 触发条件       | 顾客在个人信息页面点击«修改»按钮                                                                                                                                                                                                                                                                                                                         |
| 前置条件       | 顾客已登录，并已进入个人信息页面                                                                                                                                                                                                                                                                                                                         |
| 后置条件       | 系统更新顾客的个人信息，页面展示更新后的信息                                                                                                                                                                                                                                                                                                             |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                       |
| **正常流程**   | 1.  顾客在个人信息页面修改可编辑的信息，例如收货地址。 <br> 2.  顾客点击«修改»按钮。 <br> 3.  系统验证输入信息的格式和有效性。 <br> 4.  验证通过，系统更新数据库中顾客的个人信息。 <br> 5.  系统刷新页面，展示更新后的个人信息。                                                                                                                         |
| **特殊需求**   | 修改个人信息需要进行权限验证，确保是当前登录用户操作。 <br> 输入信息需要进行有效性校验。                                                                                                                                                                                                                                                                 |
| **扩展流程**   | **3a. 输入信息格式错误:** (例如地址格式不正确) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“输入信息格式错误，请检查并重新输入”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客需要根据提示修改错误信息。 <br> **3b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 |

## UC005: 获取所有货物信息

| ID             | UC005                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 获取所有货物信息                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 触发条件       | 顾客打开商城首页或商品列表页                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 前置条件       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 后置条件       | 系统展示所有可售卖的货物信息列表                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **正常流程**   | 1.  顾客访问商城首页或商品列表页。 <br> 2.  系统查询数据库，获取所有状态为“上架”的货物信息。 <br> 3.  系统在页面上分页展示货物信息列表，包括商品名称、图片、价格等。                                                                                                                                                                                                                                                                                                  |
| **特殊需求**   | 货物信息展示需要考虑性能，例如使用分页、缓存等技术。 <br> 需要支持按分类、关键词等条件筛选和搜索货物。                                                                                                                                                                                                                                                                                                                                                                |
| **扩展流程**   | **2a. 没有货物信息:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示提示信息：“暂无商品，敬请期待”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面可能展示默认的空商品列表或推荐其他内容。 <br> **2b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 <br> **2c. 服务器繁忙:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统响应缓慢或超时。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 系统可以提示用户稍后重试。 |
## UC006: 获取指定货物信息

| ID             | UC006                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 获取指定货物信息                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 触发条件       | 顾客点击商品列表中的某个商品，或通过搜索进入商品详情页；**或者从"猜你喜欢"等智能推荐模块点击商品**                                                                                                                                                                                                                                                                                                                                                                      |
| 前置条件       | 货物信息已存在                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 后置条件       | 系统展示指定货物的详细信息页面                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **正常流程**   | 1.  顾客点击商品列表中的商品，或通过其他方式访问商品详情页（例如，从智能推荐模块）。 <br> 2.  系统根据商品ID查询数据库，获取指定货物的详细信息。 <br> 3.  系统在商品详情页展示商品详细信息，包括商品名称、图片、价格、描述、库存等。 <br> **4. 系统在详情页展示试读章节（如果适用）**                                                                                                                                                                                   |
| **特殊需求**   | 商品详情页需要展示丰富的信息，包括多角度图片、详细描述、用户评价等。 <br> 需要考虑商品信息的实时性，例如库存信息。 <br> **增加"猜你喜欢"模块，基于用户浏览历史进行智能推荐。**                                                                                                                                                                                                                                                                                          |
| **扩展流程**   | **2a. 指定货物不存在:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“商品不存在或已下架”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面可以跳转到商品列表页或推荐其他商品。 <br> **2b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 <br> **2c. 服务器繁忙:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统响应缓慢或超时。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 系统可以提示用户稍后重试。 |

## UC007: 提交交易结算单

| ID             | UC007                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 提交交易结算单                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 触发条件       | 顾客在购物车页面点击«结算»按钮                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 前置条件       | 顾客已登录，购物车中有商品                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 后置条件       | 系统生成交易结算单，并跳转到支付页面                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **正常流程**   | 1.  顾客在购物车页面确认商品信息、数量、收货地址等。 <br> 2.  顾客点击«结算»按钮。 <br> 3.  系统验证购物车商品信息、库存、优惠券等。 <br> 4.  验证通过，系统生成交易结算单，计算订单总金额（**自动计算满减、优惠券抵扣**）。 <br> 5.  系统跳转到支付页面，展示订单信息和支付方式选择。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **特殊需求**   | 交易结算单需要包含详细的商品信息、价格、数量、运费、优惠信息等。 <br> 需要考虑并发情况，防止超卖。 <br> **支持礼品卡支付，并进行二次密码验证。**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **扩展流程**   | **3a. 购物车为空:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“购物车为空，请先添加商品”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面可以跳转回商品列表页或购物车页。 <br> **3b. 商品库存不足:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“商品[商品名称]库存不足，请修改购买数量或移除商品”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面停留在购物车页，允许顾客修改购物车。 <br> **3c. 收货地址未填写:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“请填写收货地址”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面跳转到收货地址填写页面。 <br> **3d. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。<br> **3e. 部分商品缺货:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“部分商品缺货”。 <br> &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面停留在结算页，提示缺货商品，并允许顾客修改订单。 |

## UC008: 修改支付单据状态 (支付/取消)

| ID                  | UC008                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 名称                | 修改支付单据状态 (支付/取消)                                                                                                                                                                                                                                                                                                                                                                                                               |
| 创建者              | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 创建日期            | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 最后一次更新者      | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 最后更新日期        | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 参与者              | 顾客                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 触发条件            | 顾客在订单详情页或支付页面选择支付或取消操作                                                                                                                                                                                                                                                                                                                                                                                               |
| 前置条件            | 已生成支付单据，支付单据状态为“待支付”                                                                                                                                                                                                                                                                                                                                                                                                     |
| 后置条件            | 系统更新支付单据状态为**已支付**或**已取消**，并更新订单状态                                                                                                                                                                                                                                                                                                                                                                               |
| 优先级              | 高                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **正常流程 - 支付** | 1.  顾客选择支付方式，并完成支付操作 (例如跳转到第三方支付平台)。 <br> 2.  *第三方支付平台返回支付结果*。 <br> 3.  系统接收支付结果，验证支付是否成功。 <br> 4.  支付成功，系统更新支付单据状态为**已支付**，订单状态更新为**待发货**或其他后续状态。 <br> 5.  系统跳转到支付成功页面，展示支付成功信息。                                                                                                                                  |
| **正常流程 - 取消** | 1.  顾客在订单详情页点击«取消订单»按钮。 <br> 2.  系统弹出确认取消订单提示框。 <br> 3.  顾客确认取消订单。 <br> 4.  系统验证订单是否允许取消 (例如**未发货状态**)。 <br> 5.  验证通过，系统更新支付单据状态为**已取消**，订单状态更新为**已取消**。 <br> 6.  系统跳转到订单详情页，展示订单已取消信息。                                                                                                                                    |
| **特殊需求**        | 支付流程需要保证安全性，防止支付信息泄露和篡改。 <br> 需要处理支付过程中的各种异常情况，例如支付超时、重复支付等。 <br> 取消订单需要考虑业务规则，例如**已发货订单不允许取消**。 **支持分期付款。**                                                                                                                                                                                                                                        |
| **扩展流程 - 支付** | **3a. 支付失败:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. *第三方支付平台返回支付失败信息*。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 系统接收支付失败信息，更新支付单据状态为**“支付失败”**。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 3. 系统跳转到支付失败页面，提示支付失败原因，并允许顾客重新支付。 <br> **3b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统与第三方支付平台通信异常。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 系统提示网络异常，请稍后重试。 |
| **扩展流程 - 取消** | **4a. 订单状态不允许取消:** (例如订单已发货) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“订单已进入发货流程，无法取消”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面停留在订单详情页，提示无法取消。                                                                                                                                                                                                                                       |

## UC009: 获取全部广告

| ID             | UC009                                                                                                                                                                                                                                                                                                                                                                              |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 获取全部广告                                                                                                                                                                                                                                                                                                                                                                       |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                               |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                         |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                               |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                         |
| 参与者         | 顾客                                                                                                                                                                                                                                                                                                                                                                               |
| 触发条件       | 顾客打开商城首页或其他需要展示广告的页面                                                                                                                                                                                                                                                                                                                                           |
| 前置条件       | 广告信息已存在                                                                                                                                                                                                                                                                                                                                                                     |
| 后置条件       | 系统展示所有**有效的**广告信息                                                                                                                                                                                                                                                                                                                                                     |
| 优先级         | 低                                                                                                                                                                                                                                                                                                                                                                                 |
| **正常流程**   | 1.  顾客访问商城首页或其他需要展示广告的页面。 <br> 2.  系统查询数据库，获取所有状态为**启用**且在**展示时间范围内**的广告信息。 <br> 3.  系统在页面上展示广告，例如轮播图、侧边栏广告等。                                                                                                                                                                                         |
| **特殊需求**   | 广告展示需要考虑广告位布局和展示效果。 <br> 需要支持广告的上下线、时间控制等管理功能 (后台管理员用例，此处未详细描述)。                                                                                                                                                                                                                                                            |
| **扩展流程**   | **2a. 没有广告信息:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 页面上不展示广告位或展示默认占位图。 <br> **2b. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 顾客检查网络连接后重试。 <br> **2c. 服务器繁忙:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统响应缓慢或超时。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 系统可以提示用户稍后重试。 |

## UC010: 创建新的产品

| ID             | UC010                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 创建新的产品                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 参与者         | 管理员                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 触发条件       | 管理员登录后台管理系统，进入商品管理页面，点击«创建产品»按钮                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 前置条件       | 管理员已登录后台管理系统                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 后置条件       | 系统创建新的产品信息，并在商品列表中显示                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **正常流程**   | 1.  管理员在商品管理页面填写新的产品信息，包括商品名称、分类、价格、库存、描述、图片等。 <br> 2.  管理员点击«保存»或«创建»按钮。 <br> 3.  系统验证输入信息的格式和完整性。 <br> 4.  验证通过，系统在数据库中创建新的产品记录。 <br> 5.  系统刷新商品列表页面，显示新创建的产品。                                                                                                                                                                                                                                                                                  |
| **特殊需求**   | 创建产品需要进行权限验证，确保只有管理员可以操作。 <br> 需要支持商品图片上传功能。 <br> 输入信息需要进行有效性校验。                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **扩展流程**   | **3a. 输入信息格式错误或缺失:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“输入信息格式错误或缺失，请检查并重新输入”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员需要根据提示修改错误信息。 <br> **3b. 产品编码重复:** (如果产品编码是唯一标识) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“产品编码已存在，请更换产品编码”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员需要重新输入产品编码。 <br> **3c. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员检查网络连接后重试。 |

## UC011: 更新产品信息

| ID             | UC011                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 更新产品信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 参与者         | 管理员                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 触发条件       | 管理员在商品管理页面选择要更新的产品，点击«编辑»或类似按钮                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 前置条件       | 管理员已登录后台管理系统，产品信息已存在                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 后置条件       | 系统更新产品信息，并在商品列表中显示更新后的信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **正常流程**   | 1.  管理员在商品管理页面找到需要更新的产品，点击«编辑»按钮。 <br> 2.  系统加载产品的现有信息到编辑页面。 <br> 3.  管理员修改需要更新的产品信息。 <br> 4.  管理员点击«保存»或«更新»按钮。 <br> 5.  系统验证输入信息的格式和有效性。 <br> 6.  验证通过，系统更新数据库中产品的记录。 <br> 7.  系统刷新商品列表页面，显示更新后的产品信息。                                                                                                                                                                                                                          |
| **特殊需求**   | 更新产品信息需要进行权限验证。 <br> 需要保留产品信息的修改历史 (可选)。 <br> 输入信息需要进行有效性校验。                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **扩展流程**   | **3a. 输入信息格式错误:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“输入信息格式错误，请检查并重新输入”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员需要根据提示修改错误信息。 <br> **3b. 产品不存在:** (理论上不应该发生，除非数据异常或并发操作) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“产品信息不存在，请刷新页面重试”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员可以刷新页面重试。 <br> **3c. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员检查网络连接后重试。 |

## UC012: 删除产品

| ID             | UC012                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 删除产品                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 参与者         | 管理员                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 触发条件       | 管理员在商品管理页面选择要删除的产品，点击«删除»或类似按钮                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 前置条件       | 管理员已登录后台管理系统，产品信息已存在                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 后置条件       | 系统删除产品信息，并在商品列表中不再显示                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **正常流程**   | 1. 管理员在商品管理页面找到需要删除的产品，点击«删除»按钮。 <br> 2. 系统弹出确认删除提示框。 <br> 3. 管理员确认删除。 <br> 4. 系统验证产品是否允许删除 (例如是否有**未完成的订单关联**)。 <br> 5. 验证通过，系统从数据库中删除产品记录。 <br> 6. 系统刷新商品列表页面，删除的产品不再显示。                                                                                                                                                                                                                                                                                           |
| **特殊需求**   | 删除产品需要进行权限验证。 <br> 删除操作需要谨慎，最好有回收站机制 (可选)。 <br> 需要考虑数据完整性，防止误删导致数据不一致。                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **扩展流程**   | **4a. 产品有关联订单，不允许删除:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示信息：“该产品有关联订单，无法直接删除，请先处理关联订单”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 页面停留在商品列表页，提示无法删除。 <br> **4b. 产品不存在:** (理论上不应该发生，除非数据异常或并发操作) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“产品信息不存在，请刷新页面重试”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员可以刷新页面重试。 <br> **4c. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员检查网络连接后重试。 |

## UC013: 调整产品库存

| ID             | UC013                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称           | 调整产品库存                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 创建者         | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建日期       | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 最后一次更新者 | 陈展                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 最后更新日期   | 2025-03-20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 参与者         | 管理员                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 触发条件       | 管理员在商品管理页面选择要调整库存的产品，进入库存管理或编辑页面                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 前置条件       | 管理员已登录后台管理系统，产品信息已存在                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 后置条件       | 系统更新产品库存信息，并在商品列表中显示更新后的库存                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 优先级         | 高                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **正常流程**   | 1.  管理员在商品管理页面找到需要调整库存的产品，点击«库存管理»或«编辑»按钮。 <br> 2.  管理员输入新的库存数量。 <br> 3.  管理员点击«保存»或«确认»按钮。 <br> 4.  系统验证输入的库存数量是否为**有效数字**。 <br> 5.  验证通过，系统更新数据库中产品的库存信息。 <br> 6.  系统刷新商品列表页面，显示更新后的库存信息。                                                                                                                                                                                                                                        |
| **特殊需求**   | 调整产品库存需要进行权限验证。 <br> 库存数量需要保证**非负数**。 <br> 需要考虑库存更新的**并发控制**，防止库存数据错误。                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **扩展流程**   | **4a. 输入库存数量格式错误:** <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“库存数量格式错误，请输入数字”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员需要重新输入库存数量。 <br> **4b. 产品不存在:** (理论上不应该发生，除非数据异常或并发操作) <br>  &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统显示错误提示信息：“产品信息不存在，请刷新页面重试”。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员可以刷新页面重试。 <br> **4c. 网络异常:** <br> &nbsp;&nbsp;&nbsp;&nbsp; 1. 系统提示网络连接失败。 <br>  &nbsp;&nbsp;&nbsp;&nbsp; 2. 管理员检查网络连接后重试。 |
```


